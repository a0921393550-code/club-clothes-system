# -*- coding: utf-8 -*-import streamlit as stimport pandas as pdfrom datetime import datetimeimport osFILE = "clothes_log.cvs"# 初始化 Excelif not os.path.exists(FILE):    df = pd.DataFrame(columns=[        "時間", "姓名", "學號", "動作", "服裝名稱", "數量", "備註"    ])    df.to_csv(FILE, index=False, encoding="utf-8-sig")df = pd.read_csv(FILE)df.columns = df.columns.str.strip()st.title("社團服裝借用 / 歸還系統")with st.form("clothes_form"):    action = st.selectbox("動作", ["借用", "歸還"])    name = st.text_input("姓名")    student_id = st.text_input("學號")    clothes = st.text_input("服裝名稱（可自由輸入）")    qty = st.number_input("數量", min_value=1, step=1)    note = st.text_input("備註（活動名稱 / 用途）")    submitted = st.form_submit_button("送出")    if submitted:        new_row = {            "時間": datetime.now(),            "姓名": name,            "學號": student_id,            "動作": action,            "服裝名稱": clothes,            "數量": qty,            "備註": note        }        df = pd.concat([df, pd.DataFrame([new_row])])        df.to_csv(FILE, index=False, encoding="utf-8-sig")        st.success("紀錄完成！")st.divider()st.subheader("借用 / 歸還紀錄")name_keyword = st.text_input("依人名搜尋")note_keyword = st.text_input("依活動/備註搜尋")filtered_df = df.copy()if name_keyword:    filtered_df = filtered_df[        filtered_df["姓名"].astype(str).str.contains(name_keyword, case=False, na=False)    ]if note_keyword:    filtered_df = filtered_df[        filtered_df["備註"].astype(str).str.contains(note_keyword, case=False, na=False)    ]st.dataframe(filtered_df)